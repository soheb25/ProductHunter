import{D as v}from"./DefaultLayout-CN23wems.js";import{_ as p,o as a,h as m,g as y,c as i,t as d,d as b,T as w,i as C,r as u,a as o,e as T,b as f,j as x,F as h,k as _,l as L,f as P}from"./index-DqRxsvjU.js";const M={props:{message:{type:String,required:!0},duration:{type:Number,default:2e3}},data(){return{visible:!1}},mounted(){this.visible=!0,setTimeout(()=>{this.visible=!1},this.duration)}},N={key:0,class:"fixed bottom-6 right-6 bg-customBg text-white px-4 py-2 rounded-xl shadow-lg z-50"};function A(s,t,e,g,n,c){return a(),m(w,{name:"fade"},{default:y(()=>[n.visible?(a(),i("div",N,d(e.message),1)):b("",!0)]),_:1})}const j=p(M,[["render",A],["__scopeId","data-v-621bea22"]]),D={name:"PostCard",components:{Toast:j},props:{product:{type:Object,required:!0}},data(){return{showToast:!1}},methods:{handleAddToCart(){C().addToCart(this.product),this.showToast=!0,setTimeout(()=>{this.showToast=!1},2e3)}}},S={class:"bg-stone-400 rounded-2xl shadow-md hover:shadow-xl transition-shadow p-4 flex flex-col items-center cursor-pointer transform hover:scale-[1.02]"},Z=["src","alt"],$={class:"text-lg font-semibold mb-1 text-customText text-center"},H={class:"text-customText font-bold text-md mb-2"},I={class:"text-customText font-bold pl-1 text-sm mb-4 border rounded-md bg-indigo-300 flex gap-1"},k={class:"text-customText text-sm mb-4"};function B(s,t,e,g,n,c){const l=u("Toast");return a(),i("div",S,[o("img",{src:e.product.thumbnail,alt:e.product.name,class:"w-full h-52 rounded-xl mb-4"},null,8,Z),o("h3",$,d(e.product.title),1),o("p",H,"$"+d(e.product.price),1),o("div",I,[T(d(e.product.rating)+" ",1),t[1]||(t[1]=o("img",{class:"h-4 pt-1",src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTYuNSA5LjQzOWwtMy42NzQgMi4yMy45NC00LjI2LTMuMjEtMi44ODMgNC4yNTQtLjQwNEw2LjUuMTEybDEuNjkgNC4wMSA0LjI1NC40MDQtMy4yMSAyLjg4Mi45NCA0LjI2eiIvPjwvc3ZnPg=="},null,-1))]),o("p",k,d(e.product.category),1),o("button",{onClick:t[0]||(t[0]=(...r)=>c.handleAddToCart&&c.handleAddToCart(...r)),class:"mt-auto bg-customPbg hover:bg-amber-950 text-white px-6 py-2 rounded-xl transition duration-300"},"Add to Cart "),n.showToast?(a(),m(l,{key:0,message:"Added to cart!"})):b("",!0)])}const O=p(D,[["render",B]]),V={components:{ProductCard:O},data(){return{selectedCategory:"",sortOption:"",searchTerm:"",products:[]}},created(){this.fetchProducts()},methods:{async fetchProducts(){try{const t=await(await fetch("https://dummyjson.com/products/search?q=phone")).json();this.products=t.products}catch(s){console.error("Failed to fetch products:",s)}}},computed:{categories(){return[...new Set(this.products.map(s=>s.category))]},filteredProducts(){let s=this.selectedCategory?this.products.filter(t=>t.category===this.selectedCategory):[...this.products];switch(this.sortOption){case"priceLowHigh":return s.sort((t,e)=>t.price-e.price);case"priceHighLow":return s.sort((t,e)=>e.price-t.price);case"nameAZ":return s.sort((t,e)=>t.title.localeCompare(e.title));case"nameZA":return s.sort((t,e)=>e.title.localeCompare(t.title));default:return s}}}},z={class:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6 flex-wrap"},E={class:"flex items-center gap-2"},Q=["value"],q={class:"flex items-center gap-6 sm:gap-2"},F={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"};function G(s,t,e,g,n,c){const l=u("ProductCard");return a(),i(h,null,[o("div",z,[o("div",E,[t[3]||(t[3]=o("label",{class:"font-medium text-gray-700"},"Category:",-1)),f(o("select",{"onUpdate:modelValue":t[0]||(t[0]=r=>n.selectedCategory=r),class:"border rounded px-3 py-1 bg-customBg cursor-pointer"},[t[2]||(t[2]=o("option",{value:""},"All",-1)),(a(!0),i(h,null,_(c.categories,r=>(a(),i("option",{key:r,value:r},d(r),9,Q))),128))],512),[[x,n.selectedCategory]])]),o("div",q,[t[5]||(t[5]=o("label",{class:"font-medium text-gray-700"},"Sort By:",-1)),f(o("select",{"onUpdate:modelValue":t[1]||(t[1]=r=>n.sortOption=r),class:"border rounded px-3 py-1 bg-customBg cursor-pointer"},t[4]||(t[4]=[L('<option value="">Default</option><option value="priceLowHigh">Price: Low to High</option><option value="priceHighLow">Price: High to Low</option><option value="nameAZ">Name: A to Z</option><option value="nameZA">Name: Z to A</option>',5)]),512),[[x,n.sortOption]])])]),o("div",F,[(a(!0),i(h,null,_(c.filteredProducts,r=>(a(),m(l,{key:r.id,product:r},null,8,["product"]))),128))])],64)}const R=p(V,[["render",G]]),U={components:{DefaultLayout:v,ProductList:R}},W={class:"py-10 px-4"};function Y(s,t,e,g,n,c){const l=u("ProductList"),r=u("DefaultLayout");return a(),m(r,null,{default:y(()=>[o("section",W,[t[0]||(t[0]=o("h1",{class:"text-3xl font-bold mb-6 text-center text-customText"},"Welcome to Our Store",-1)),P(l)])]),_:1})}const X=p(U,[["render",Y]]);export{X as default};
